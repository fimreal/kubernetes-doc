<!doctype html>
<html lang="zh" class="no-js">
  <head>
    

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-36037335-10"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-36037335-10');
</script>


<link rel="alternate" hreflang="en" href="https://kubernetes.io/docs/tasks/tools/included/">
<link rel="alternate" hreflang="ko" href="https://kubernetes.io/ko/docs/tasks/tools/included/">

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.88.1" />

<META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">

<link rel="canonical" type="text/html" href="https://kubernetes.io/zh/docs/tasks/tools/included/">
<link rel="shortcut icon" type="image/png" href="/images/favicon.png">
<link rel="apple-touch-icon" href="/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="manifest" href="/manifest.webmanifest">
<link rel="apple-touch-icon" href="/images/kubernetes-192x192.png">
<title>内含的工具 | Kubernetes</title><meta property="og:title" content="内含的工具" />
<meta property="og:description" content="在页面 kubectl-installs-*.md 中包含的代码片段" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://kubernetes.io/zh/docs/tasks/tools/included/" /><meta property="og:site_name" content="Kubernetes" />

<meta itemprop="name" content="内含的工具">
<meta itemprop="description" content="在页面 kubectl-installs-*.md 中包含的代码片段"><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="内含的工具"/>
<meta name="twitter:description" content="在页面 kubectl-installs-*.md 中包含的代码片段"/>





<link rel="preload" href="/scss/main.min.0bda2f3af46d1514ab4d3cad78295716cfd9557a35a41868b7db38040502bb54.css" as="style">
<link href="/scss/main.min.0bda2f3af46d1514ab4d3cad78295716cfd9557a35a41868b7db38040502bb54.css" rel="stylesheet" integrity="">


<script
  src="/js/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>





<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Organization",
    "url": "https://kubernetes.io",
    "logo": "https://kubernetes.io/images/favicon.png",
    "potentialAction": {
      "@type": "SearchAction",
      "target": "https://kubernetes.io/search/?q={search_term_string}",
      "query-input": "required name=search_term_string"
    }

  }
</script>
<meta name="theme-color" content="#326ce5">




<link rel="stylesheet" href="/css/feature-states.css">



<meta name="description" content="在页面 kubectl-installs-*.md 中包含的代码片段">
<meta property="og:description" content="在页面 kubectl-installs-*.md 中包含的代码片段">
<meta name="twitter:description" content="在页面 kubectl-installs-*.md 中包含的代码片段">
<meta property="og:url" content="https://kubernetes.io/zh/docs/tasks/tools/included/">
<meta property="og:title" content="内含的工具">
<meta name="twitter:title" content="内含的工具">
<meta name="twitter:image" content="https://kubernetes.io/images/favicon.png" />

<meta name="twitter:image:alt" content="Kubernetes">

<meta property="og:image" content="/images/kubernetes-horizontal-color.png">

<meta property="og:type" content="article">



<script src="/js/script.js"></script>


  </head>
  <body class="td-section">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark  flex-row td-navbar" data-auto-burger="primary">
        <a class="navbar-brand" href="/zh/"></a>
	<div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
		
		<ul class="navbar-nav mt-2 mt-lg-0">
			
			
			
			
			<li class="nav-item mr-2 mb-lg-0">
				
				<a class="nav-link active" href="/zh/docs/" >文档</span></a>
			</li>
			
			
			
			<li class="nav-item mr-2 mb-lg-0">
				
				<a class="nav-link" href="/zh/blog/" >Kubernetes 博客</span></a>
			</li>
			
			
			
			<li class="nav-item mr-2 mb-lg-0">
				
				<a class="nav-link" href="/zh/training/" >培训</span></a>
			</li>
			
			
			
			<li class="nav-item mr-2 mb-lg-0">
				
				<a class="nav-link" href="/zh/partners/" >合作伙伴</span></a>
			</li>
			
			
			
			<li class="nav-item mr-2 mb-lg-0">
				
				<a class="nav-link" href="/zh/community/" >社区</span></a>
			</li>
			
			
			
			<li class="nav-item mr-2 mb-lg-0">
				
				<a class="nav-link" href="/zh/case-studies/" >案例分析</span></a>
			</li>
			
			
			
			<li class="nav-item dropdown">
				<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
	版本列表
</a>
<div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink">
	
	<a class="dropdown-item" href="/releases">Release Information</a>
	
	<a class="dropdown-item" href="https://kubernetes.io/zh/docs/tasks/tools/included/">v1.22</a>
	
	<a class="dropdown-item" href="https://v1-21.docs.kubernetes.io/zh/docs/tasks/tools/included/">v1.21</a>
	
	<a class="dropdown-item" href="https://v1-20.docs.kubernetes.io/zh/docs/tasks/tools/included/">v1.20</a>
	
	<a class="dropdown-item" href="https://v1-19.docs.kubernetes.io/zh/docs/tasks/tools/included/">v1.19</a>
	
	<a class="dropdown-item" href="https://v1-18.docs.kubernetes.io/zh/docs/tasks/tools/included/">v1.18</a>
	
</div>
			</li>
			
			
			<li class="nav-item dropdown">
				

<a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
	中文 Chinese
</a>
<div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink">
	
	<a class="dropdown-item" href="/docs/tasks/tools/included/">English</a>
	
	<a class="dropdown-item" href="/ko/docs/tasks/tools/included/">한국어 Korean</a>
	
</div>

			</li>
			
		</ul>
	</div>
	<button id="hamburger" onclick="kub.toggleMenu()" data-auto-burger-exclude><div></div></button>
</nav>
    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
          </div>
          <div class="d-none d-xl-block col-xl-2 td-toc d-print-none">
          </div>
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
            




<div class="td-content">
<div class="pageinfo pageinfo-primary d-print-none">
<p>
这是本节的多页打印视图。
<a href="#" onclick="print();return false;">点击此处打印</a>.
</p><p>
<a href="/zh/docs/tasks/tools/included/">返回本页常规视图</a>.
</p>
</div>



<h1 class="title">内含的工具</h1>
<div class="lead">在页面 kubectl-installs-*.md 中包含的代码片段</div>




    <ul>
    
  
  
  
  

  
    
    
	
<li>1: <a href="#pg-d4ebbbe0a2ddce15850a36dfede9ba52">kubectl-convert 概述</a></li>


    
  
    
    
	
<li>2: <a href="#pg-2d600cc8ec4dec69673b5f9577b6da22">Linux 系统中的 bash 自动补全功能</a></li>


    
  
    
    
	
<li>3: <a href="#pg-68808b3ec5807517ed64fd8ae32a7d1b">macOS 系统上的 bash 自动补全</a></li>


    
  
    
    
	
<li>4: <a href="#pg-9ab27577326839cb4793fd670a916364">zsh 自动补全</a></li>


    
  
    
    
	
<li>5: <a href="#pg-99d563e9521796074ba3ca7f15a613ce">后续内容</a></li>


    
  
    
    
	
<li>6: <a href="#pg-f92adff24b39ef90a481e9aec2b8dd08">通过 gcloud 安装 kubectl</a></li>


    
  
    
    
	
<li>7: <a href="#pg-b2d43b2ae3e8f26eefa83de2db4ba782">验证 kubectl 的安装效果</a></li>


    
  

    </ul>


<div class="content">
      <!-- 
---
title: "Tools Included"
description: "Snippets to be included in the main kubectl-installs-*.md pages."
headless: true
toc_hide: true
---
-->

</div>
</div>


  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-d4ebbbe0a2ddce15850a36dfede9ba52">1 - kubectl-convert 概述</h1>
    <div class="lead">一个 kubectl 插件，允许你将清单从一个 Kubernetes API 版本转换到不同的版本。</div>
	<!--
---
title: "kubectl-convert overview"
description: >-
  A kubectl plugin that allows you to convert manifests from one version
  of a Kubernetes API to a different version.
headless: true
---
-->
<!--
A plugin for Kubernetes command-line tool `kubectl`, which allows you to convert manifests between different API 
versions. This can be particularly helpful to migrate manifests to a non-deprecated api version with newer Kubernetes release.
For more info, visit [migrate to non deprecated apis](/docs/reference/using-api/deprecation-guide/#migrate-to-non-deprecated-apis)
-->
<p>一个 Kubernetes 命令行工具 <code>kubectl</code> 的插件，允许你将清单在不同 API 版本间转换。
在将清单迁移到具有较新 Kubernetes 版本的未弃用 API 版本时，这个插件特别有用。
更多信息请访问 <a href="/zh/docs/reference/using-api/deprecation-guide/#migrate-to-non-deprecated-apis">迁移到非弃用 API</a></p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-2d600cc8ec4dec69673b5f9577b6da22">2 - Linux 系统中的 bash 自动补全功能</h1>
    <div class="lead">Linux 系统中 bash 自动补全功能的一些可选配置。</div>
	<!-- 
---
title: "bash auto-completion on Linux"
description: "Some optional configuration for bash auto-completion on Linux."
headless: true
---
-->
<!-- 
### Introduction
-->
<h3 id="introduction">简介</h3>
<!-- 
The kubectl completion script for Bash can be generated with the command `kubectl completion bash`. Sourcing the completion script in your shell enables kubectl autocompletion.

However, the completion script depends on [**bash-completion**](https://github.com/scop/bash-completion), which means that you have to install this software first (you can test if you have bash-completion already installed by running `type _init_completion`).
-->
<p>kubectl 的 Bash 补全脚本可以用命令 <code>kubectl completion bash</code> 生成。
在 shell 中导入（Sourcing）补全脚本，将启用 kubectl 自动补全功能。</p>
<p>然而，补全脚本依赖于工具 <a href="https://github.com/scop/bash-completion"><strong>bash-completion</strong></a>，
所以要先安装它（可以用命令 <code>type _init_completion</code> 检查 bash-completion 是否已安装）。</p>
<!-- 
### Install bash-completion
-->
<h3 id="install-bash-comletion">安装 bash-completion</h3>
<!-- 
bash-completion is provided by many package managers (see [here](https://github.com/scop/bash-completion#installation)). You can install it with `apt-get install bash-completion` or `yum install bash-completion`, etc.

The above commands create `/usr/share/bash-completion/bash_completion`, which is the main script of bash-completion. Depending on your package manager, you have to manually source this file in your `~/.bashrc` file.

To find out, reload your shell and run `type _init_completion`. If the command succeeds, you're already set, otherwise add the following to your `~/.bashrc` file:
-->
<p>很多包管理工具均支持 bash-completion（参见<a href="https://github.com/scop/bash-completion#installation">这里</a>）。
可以通过 <code>apt-get install bash-completion</code> 或 <code>yum install bash-completion</code> 等命令来安装它。</p>
<p>上述命令将创建文件 <code>/usr/share/bash-completion/bash_completion</code>，它是 bash-completion 的主脚本。
依据包管理工具的实际情况，你需要在 <code>~/.bashrc</code> 文件中手工导入此文件。</p>
<p>要查看结果，请重新加载你的 shell，并运行命令 <code>type _init_completion</code>。
如果命令执行成功，则设置完成，否则将下面内容添加到文件 <code>~/.bashrc</code> 中：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#a2f">source</span> /usr/share/bash-completion/bash_completion
</code></pre></div><!-- 
Reload your shell and verify that bash-completion is correctly installed by typing `type _init_completion`.
-->
<p>重新加载 shell，再输入命令 <code>type _init_completion</code> 来验证 bash-completion 的安装状态。</p>
<!-- 
### Enable kubectl autocompletion
-->
<h3 id="enable-kubectl-autocompletion">启动 kubectl 自动补全功能</h3>
<!-- 
You now need to ensure that the kubectl completion script gets sourced in all your shell sessions. There are two ways in which you can do this:
-->
<p>你现在需要确保一点：kubectl 补全脚本已经导入（sourced）到 shell 会话中。
这里有两种验证方法：</p>
<!-- 
- Source the completion script in your `~/.bashrc` file:
-->
<ul>
<li>
<p>在文件 <code>~/.bashrc</code> 中导入（source）补全脚本：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#a2f">echo</span> <span style="color:#b44">&#39;source &lt;(kubectl completion bash)&#39;</span> &gt;&gt;~/.bashrc
</code></pre></div></li>
</ul>
<!-- 
- Add the completion script to the `/etc/bash_completion.d` directory:
-->
<ul>
<li>
<p>将补全脚本添加到目录 <code>/etc/bash_completion.d</code> 中：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">kubectl completion bash &gt;/etc/bash_completion.d/kubectl
</code></pre></div></li>
</ul>
<!-- 
If you have an alias for kubectl, you can extend shell completion to work with that alias:
-->
<p>如果 kubectl 有关联的别名，你可以扩展 shell 补全来适配此别名：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#a2f">echo</span> <span style="color:#b44">&#39;alias k=kubectl&#39;</span> &gt;&gt;~/.bashrc
<span style="color:#a2f">echo</span> <span style="color:#b44">&#39;complete -F __start_kubectl k&#39;</span> &gt;&gt;~/.bashrc
</code></pre></div><blockquote class="note callout">
  <div><strong>说明：</strong> <!-- 
bash-completion sources all completion scripts in `/etc/bash_completion.d`.
-->
<p>bash-completion 负责导入 <code>/etc/bash_completion.d</code> 目录中的所有补全脚本。</div>
</blockquote>
<!-- 
Both approaches are equivalent. After reloading your shell, kubectl autocompletion should be working.
-->
<p>两种方式的效果相同。重新加载 shell 后，kubectl 自动补全功能即可生效。</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-68808b3ec5807517ed64fd8ae32a7d1b">3 - macOS 系统上的 bash 自动补全</h1>
    <div class="lead">在 macOS 上实现 Bash 自动补全的一些可选配置。</div>
	<!-- 
title: "bash auto-completion on macOS"
description: "Some optional configuration for bash auto-completion on macOS."
headless: true
 -->
<!-- 
### Introduction
-->
<h3 id="简介">简介</h3>
<!-- 
The kubectl completion script for Bash can be generated with `kubectl completion bash`. Sourcing this script in your shell enables kubectl completion.

However, the kubectl completion script depends on [**bash-completion**](https://github.com/scop/bash-completion) which you thus have to previously install.
-->
<p>kubectl 的 Bash 补全脚本可以通过 <code>kubectl completion bash</code> 命令生成。
在你的 shell 中导入（Sourcing）这个脚本即可启用补全功能。</p>
<p>此外，kubectl 补全脚本依赖于工具 <a href="https://github.com/scop/bash-completion"><strong>bash-completion</strong></a>，
所以你必须先安装它。</p>
<blockquote class="warning callout">
  <div><strong>警告：</strong> <!-- 
There are two versions of bash-completion, v1 and v2. V1 is for Bash 3.2 (which is the default on macOS), and v2 is for Bash 4.1+. The kubectl completion script **doesn't work** correctly with bash-completion v1 and Bash 3.2. It requires **bash-completion v2** and **Bash 4.1+**. Thus, to be able to correctly use kubectl completion on macOS, you have to install and use Bash 4.1+ ([*instructions*](https://itnext.io/upgrading-bash-on-macos-7138bd1066ba)). The following instructions assume that you use Bash 4.1+ (that is, any Bash version of 4.1 or newer).
-->
<p>bash-completion 有两个版本：v1 和 v2。v1 对应 Bash3.2（也是 macOS 的默认安装版本），v2 对应 Bash 4.1+。
kubectl 的补全脚本<strong>无法适配</strong> bash-completion v1 和 Bash 3.2。
必须为它配备  <strong>bash-completion v2</strong> 和 <strong>Bash 4.1+</strong>。
有鉴于此，为了在 macOS 上使用 kubectl 补全功能，你必须要安装和使用 Bash 4.1+
(<a href="https://itnext.io/upgrading-bash-on-macos-7138bd1066ba"><em>说明</em></a>)。
后续说明假定你用的是 Bash 4.1+（也就是 Bash 4.1 或更新的版本）</div>
</blockquote>

<!-- 
### Upgrade Bash
-->
<h3 id="升级-bash">升级 Bash</h3>
<!-- 
The instructions here assume you use Bash 4.1+. You can check your Bash's version by running:
-->
<p>后续说明假定你已使用 Bash 4.1+。你可以运行以下命令检查 Bash 版本：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#a2f">echo</span> <span style="color:#b8860b">$BASH_VERSION</span>
</code></pre></div><!-- 
If it is too old, you can install/upgrade it using Homebrew:
-->
<p>如果版本太旧，可以用 Homebrew 安装/升级：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">brew install bash
</code></pre></div><!-- 
Reload your shell and verify that the desired version is being used:
-->
<p>重新加载 shell，并验证所需的版本已经生效：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#a2f">echo</span> <span style="color:#b8860b">$BASH_VERSION</span> <span style="color:#b8860b">$SHELL</span>
</code></pre></div><!-- 
Homebrew usually installs it at `/usr/local/bin/bash`.
-->
<p>Homebrew 通常把它安装为 <code>/usr/local/bin/bash</code>。</p>
<!-- 
### Install bash-completion
-->
<h3 id="安装-bash-completion">安装 bash-completion</h3>
<blockquote class="note callout">
  <div><strong>说明：</strong> <!-- 
As mentioned, these instructions assume you use Bash 4.1+, which means you will install bash-completion v2 (in contrast to Bash 3.2 and bash-completion v1, in which case kubectl completion won't work).
-->
<p>如前所述，本说明假定你使用的 Bash 版本为 4.1+，这意味着你要安装 bash-completion v2
（不同于 Bash 3.2 和 bash-completion v1，kubectl 的补全功能在该场景下无法工作）。</div>
</blockquote>
<!-- 
You can test if you have bash-completion v2 already installed with `type _init_completion`. If not, you can install it with Homebrew:
-->
<p>你可以用命令 <code>type _init_completion</code> 测试 bash-completion v2 是否已经安装。
如未安装，用 Homebrew 来安装它：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">brew install bash-completion@2
</code></pre></div><!-- 
As stated in the output of this command, add the following to your `~/.bash_profile` file:
-->
<p>如命令的输出信息所显示的，将如下内容添加到文件 <code>~/.bash_profile</code> 中：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#a2f">export</span> <span style="color:#b8860b">BASH_COMPLETION_COMPAT_DIR</span><span style="color:#666">=</span><span style="color:#b44">&#34;/usr/local/etc/bash_completion.d&#34;</span>
<span style="color:#666">[[</span> -r <span style="color:#b44">&#34;/usr/local/etc/profile.d/bash_completion.sh&#34;</span> <span style="color:#666">]]</span> <span style="color:#666">&amp;&amp;</span> . <span style="color:#b44">&#34;/usr/local/etc/profile.d/bash_completion.sh&#34;</span>
</code></pre></div><!-- 
Reload your shell and verify that bash-completion v2 is correctly installed with `type _init_completion`.
-->
<p>重新加载 shell，并用命令 <code>type _init_completion</code> 验证 bash-completion v2 已经恰当的安装。</p>
<!-- 
### Enable kubectl autocompletion
-->
<h3 id="启用-kubectl-自动补全功能">启用 kubectl 自动补全功能</h3>
<!-- 
You now have to ensure that the kubectl completion script gets sourced in all your shell sessions. There are multiple ways to achieve this:

- Source the completion script in your `~/.bash_profile` file:
-->
<p>你现在需要确保在所有的 shell 环境中均已导入（sourced） kubectl 的补全脚本，
有若干种方法可以实现这一点：</p>
<ul>
<li>
<p>在文件 <code>~/.bash_profile</code> 中导入（Source）补全脚本：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#a2f">echo</span> <span style="color:#b44">&#39;source &lt;(kubectl completion bash)&#39;</span> &gt;&gt;~/.bash_profile
</code></pre></div></li>
</ul>
<!-- 
- Add the completion script to the `/usr/local/etc/bash_completion.d` directory:
-->
<ul>
<li>
<p>将补全脚本添加到目录 <code>/usr/local/etc/bash_completion.d</code> 中：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">kubectl completion bash &gt;/usr/local/etc/bash_completion.d/kubectl
</code></pre></div></li>
</ul>
<!-- 
- If you have an alias for kubectl, you can extend shell completion to work with that alias:
-->
<ul>
<li>
<p>如果你为 kubectl 定义了别名，则可以扩展 shell 补全来兼容该别名：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#a2f">echo</span> <span style="color:#b44">&#39;alias k=kubectl&#39;</span> &gt;&gt;~/.bash_profile
<span style="color:#a2f">echo</span> <span style="color:#b44">&#39;complete -F __start_kubectl k&#39;</span> &gt;&gt;~/.bash_profile
</code></pre></div></li>
</ul>
<!-- 
- If you installed kubectl with Homebrew (as explained [here](/docs/tasks/tools/install-kubectl-macos/#install-with-homebrew-on-macos)), then the kubectl completion script should already be in `/usr/local/etc/bash_completion.d/kubectl`. In that case, you don't need to do anything.
-->
<ul>
<li>
<p>如果你是用 Homebrew 安装的 kubectl（如
<a href="/zh/docs/tasks/install-with-homebrew-on-macos/#install-with-homebrew-on-macos">此页面</a>
所描述），则kubectl 补全脚本应该已经安装到目录 <code>/usr/local/etc/bash_completion.d/kubectl</code>
中了。这种情况下，你什么都不需要做。</p>
<blockquote class="note callout">
  <div><strong>说明：</strong> <!-- 
  The Homebrew installation of bash-completion v2 sources all the files in the `BASH_COMPLETION_COMPAT_DIR` directory, that's why the latter two methods work.
  -->
<p>用 Hommbrew 安装的 bash-completion v2 会初始化 目录 <code>BASH_COMPLETION_COMPAT_DIR</code>
中的所有文件，这就是后两种方法能正常工作的原因。</div>
</blockquote>
</li>
</ul>
<!-- 
In any case, after reloading your shell, kubectl completion should be working.
-->
<p>总之，重新加载 shell 之后，kubectl 补全功能将立即生效。</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-9ab27577326839cb4793fd670a916364">4 - zsh 自动补全</h1>
    <div class="lead">zsh 自动补全的一些可选配置</div>
	<!-- 
---
title: "zsh auto-completion"
description: "Some optional configuration for zsh auto-completion."
headless: true
---
-->
<!-- 
The kubectl completion script for Zsh can be generated with the command `kubectl completion zsh`. Sourcing the completion script in your shell enables kubectl autocompletion.

To do so in all your shell sessions, add the following to your `~/.zshrc` file:
-->
<p>kubectl 通过命令 <code>kubectl completion zsh</code> 生成 Zsh 自动补全脚本。
在 shell 中导入（Sourcing）该自动补全脚本，将启动 kubectl 自动补全功能。</p>
<p>为了在所有的 shell 会话中实现此功能，请将下面内容加入到文件 <code>~/.zshrc</code> 中。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-zsh" data-lang="zsh"><span style="color:#a2f">source</span> &lt;<span style="color:#666">(</span>kubectl completion zsh<span style="color:#666">)</span>
</code></pre></div><!-- 
If you have an alias for kubectl, you can extend shell completion to work with that alias:
-->
<p>如果你为 kubectl 定义了别名，可以扩展脚本补全，以兼容该别名。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-zsh" data-lang="zsh"><span style="color:#a2f">echo</span> <span style="color:#b44">&#39;alias k=kubectl&#39;</span> &gt;&gt;~/.zshrc
<span style="color:#a2f">echo</span> <span style="color:#b44">&#39;complete -F __start_kubectl k&#39;</span> &gt;&gt;~/.zshrc
</code></pre></div><!-- 
After reloading your shell, kubectl autocompletion should be working.

If you get an error like `complete:13: command not found: compdef`, then add the following to the beginning of your `~/.zshrc` file:
-->
<p>重新加载 shell 后，kubectl 自动补全功能将立即生效。</p>
<p>如果你收到 <code>complete:13: command not found: compdef</code> 这样的错误提示，那请将下面内容添加到 <code>~/.zshrc</code> 文件的开头：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-zsh" data-lang="zsh">autoload -Uz compinit
compinit
</code></pre></div>
</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-99d563e9521796074ba3ca7f15a613ce">5 - 后续内容</h1>
    <div class="lead">安装 kubectl 之后，还可以做些什么？</div>
	<!-- 
---
title: "What's next?"
description: "What's next after installing kubectl."
headless: true
---
-->
<!-- 
* [Install Minikube](https://minikube.sigs.k8s.io/docs/start/)
* See the [getting started guides](/docs/setup/) for more about creating clusters.
* [Learn how to launch and expose your application.](/docs/tasks/access-application-cluster/service-access-application-cluster/)
* If you need access to a cluster you didn't create, see the
  [Sharing Cluster Access document](/docs/tasks/access-application-cluster/configure-access-multiple-clusters/).
* Read the [kubectl reference docs](/docs/reference/kubectl/kubectl/)
-->
<ul>
<li><a href="https://minikube.sigs.k8s.io/docs/start/">安装 Minikube</a></li>
<li>有关创建集群的更多信息，请参阅<a href="/zh/docs/setup/">入门指南</a>.</li>
<li><a href="/zh/docs/tasks/access-application-cluster/service-access-application-cluster/">学习如何启动并对外公开你的应用程序。</a></li>
<li>如果你需要访问其他人创建的集群，请参阅
<a href="/zh/docs/tasks/access-application-cluster/configure-access-multiple-clusters/">共享集群接入文档</a>.</li>
<li>阅读 <a href="/zh/docs/reference/kubectl/kubectl/">kubectl 参考文档</a></li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-f92adff24b39ef90a481e9aec2b8dd08">6 - 通过 gcloud 安装 kubectl</h1>
    <div class="lead">用各个特定操作系统标签页中包含的 gcloud 指令片段安装 kubectl。</div>
	<!-- 
---
title: "gcloud kubectl install"
description: "How to install kubectl with gcloud snippet for inclusion in each OS-specific tab."
headless: true
---
-->
<!-- 
You can install kubectl as part of the Google Cloud SDK.
-->
<p>kubectl 可以作为 Google Cloud SDK 的一部分被安装。</p>
<!-- 
1. Install the [Google Cloud SDK](https://cloud.google.com/sdk/).
1. Run the `kubectl` installation command:
-->
<ol>
<li>
<p>安装 <a href="https://cloud.google.com/sdk/">Google Cloud SDK</a>。</p>
</li>
<li>
<p>运行安装 <code>kubectl</code> 的命令：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">gcloud components install kubectl
</code></pre></div><!-- 
1. Test to ensure the version you installed is up-to-date:
-->
</li>
<li>
<p>验证一下，确保安装的是最新的版本：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">kubectl version --client
</code></pre></div></li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-b2d43b2ae3e8f26eefa83de2db4ba782">7 - 验证 kubectl 的安装效果</h1>
    <div class="lead">如何验证 kubectl。</div>
	<!-- 
---
title: "verify kubectl install"
description: "How to verify kubectl."
headless: true
---
 -->
<!-- 
In order for kubectl to find and access a Kubernetes cluster, it needs a
[kubeconfig file](/docs/concepts/configuration/organize-cluster-access-kubeconfig/),
which is created automatically when you create a cluster using
[kube-up.sh](https://github.com/kubernetes/kubernetes/blob/master/cluster/kube-up.sh)
or successfully deploy a Minikube cluster.
By default, kubectl configuration is located at `~/.kube/config`.

Check that kubectl is properly configured by getting the cluster state:
 -->
<p>为了让 kubectl 能发现并访问 Kubernetes 集群，你需要一个
<a href="/docs/zh/concepts/configuration/organize-cluster-access-kubeconfig/">kubeconfig 文件</a>，
该文件在
<a href="https://github.com/kubernetes/kubernetes/blob/master/cluster/kube-up.sh">kube-up.sh</a>
创建集群时，或成功部署一个 Miniube 集群时，均会自动生成。
通常，kubectl 的配置信息存放于文件 <code>~/.kube/config</code> 中。</p>
<p>通过获取集群状态的方法，检查是否已恰当的配置了 kubectl：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">kubectl cluster-info
</code></pre></div><!-- 
If you see a URL response, kubectl is correctly configured to access your cluster.

If you see a message similar to the following, kubectl is not configured correctly or is not able to connect to a Kubernetes cluster.
 -->
<p>如果返回一个 URL，则意味着 kubectl 成功的访问到了你的集群。</p>
<p>如果你看到如下所示的消息，则代表 kubectl 配置出了问题，或无法连接到 Kubernetes 集群。</p>
<pre tabindex="0"><code>The connection to the server &lt;server-name:port&gt; was refused - did you specify the right host or port?
（访问 &lt;server-name:port&gt; 被拒绝 - 你指定的主机和端口是否有误？）
</code></pre><!-- 
For example, if you are intending to run a Kubernetes cluster on your laptop (locally), you will need a tool like Minikube to be installed first and then re-run the commands stated above.

If kubectl cluster-info returns the url response but you can't access your cluster, to check whether it is configured properly, use:
 -->
<p>例如，如果你想在自己的笔记本上（本地）运行 Kubernetes 集群，你需要先安装一个 Minikube 这样的工具，然后再重新运行上面的命令。</p>
<p>如果命令 <code>kubectl cluster-info</code> 返回了 url，但你还不能访问集群，那可以用以下命令来检查配置是否妥当：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">kubectl cluster-info dump
</code></pre></div>
</div>



    
	
  



          </main>
        </div>
      </div>
      
<footer class="d-print-none">
  <div class="footer__links">
    <nav>
      
      
      
      <a class="text-white" href="/zh/docs/home/">主页</a>
      
      <a class="text-white" href="/zh/blog/">博客</a>
      
      <a class="text-white" href="/zh/training/">培训</a>
      
      <a class="text-white" href="/zh/partners/">合作伙伴</a>
      
      <a class="text-white" href="/zh/community/">社区</a>
      
      <a class="text-white" href="/zh/case-studies/">案例分析</a>
      
    </nav>
  </div>
  <div class="container-fluid">
    <div class="row">
      <div class="col-6 col-sm-2 text-xs-center order-sm-2">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="User mailing list" aria-label="User mailing list">
    <a class="text-white" target="_blank" href="https://discuss.kubernetes.io">
      <i class="fa fa-envelope"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Twitter" aria-label="Twitter">
    <a class="text-white" target="_blank" href="https://twitter.com/kubernetesio">
      <i class="fab fa-twitter"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Calendar" aria-label="Calendar">
    <a class="text-white" target="_blank" href="https://calendar.google.com/calendar/embed?src=calendar%40kubernetes.io">
      <i class="fas fa-calendar-alt"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Youtube" aria-label="Youtube">
    <a class="text-white" target="_blank" href="https://youtube.com/kubernetescommunity">
      <i class="fab fa-youtube"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-6 col-sm-2 text-right text-xs-center order-sm-3">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
    <a class="text-white" target="_blank" href="https://github.com/kubernetes/kubernetes">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Slack" aria-label="Slack">
    <a class="text-white" target="_blank" href="https://slack.k8s.io">
      <i class="fab fa-slack"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Contribute" aria-label="Contribute">
    <a class="text-white" target="_blank" href="https://git.k8s.io/community/contributors/guide">
      <i class="fas fa-edit"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Stack Overflow" aria-label="Stack Overflow">
    <a class="text-white" target="_blank" href="https://stackoverflow.com/questions/tagged/kubernetes">
      <i class="fab fa-stack-overflow"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-12 col-sm-8 text-center order-sm-2">
        <small class="text-white">&copy; 2021 The Kubernetes 作者 | 文档发布基于 <a href="https://git.k8s.io/website/LICENSE" class="light-text">CC BY 4.0</a> 授权许可</small>
        <br/>
        <small class="text-white">Copyright &copy; 2021 Linux 基金会&reg;。保留所有权利。Linux 基金会已注册并使用商标。如需了解 Linux 基金会的商标列表，请访问<a href="https://www.linuxfoundation.org/trademark-usage" class="light-text">商标使用页面</a></small>
        <br/>
        <small class="text-white">ICP license: 京ICP备17074266号-3</small>
        
        
          
        
      </div>
    </div>
  </div>
</footer>


    </div>
    
<script src="/js/popper-1.14.3.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="/js/bootstrap-4.3.1.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>











<script src="/js/main.min.40616251a9b6e4b689e7769be0340661efa4d7ebb73f957404e963e135b4ed52.js" integrity="sha256-QGFiUam25LaJ53ab4DQGYe&#43;k1&#43;u3P5V0BOlj4TW07VI=" crossorigin="anonymous"></script>






  </body>
</html>
